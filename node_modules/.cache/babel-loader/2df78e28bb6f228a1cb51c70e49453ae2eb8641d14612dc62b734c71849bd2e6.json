{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      title: 'shou体检预约-登录',\n      //title数据是可以从服务器请求获得\n      user: {\n        userId: '',\n        password: ''\n      }\n    };\n  },\n  methods: {\n    login() {\n      if (this.user.userId == '') {\n        this.$message({\n          showClose: true,\n          //是否显示关闭按钮\n          message: '用户id不能为空',\n          type: 'warning',\n          //类型\n          onClose: () => {\n            console.log('关闭');\n          }\n        });\n        return;\n      }\n      if (this.user.password == '') {\n        this.$message({\n          showClose: true,\n          //是否显示关闭按钮\n          message: '用户密码不能为空',\n          type: 'warning',\n          //类型\n          onClose: () => {\n            console.log('关闭');\n          }\n        });\n        return;\n      }\n      //TODO:登录接口\n      let url = 'users/login';\n      this.$axios.post(url, this.user).then(response => {\n        if (response.data.code == 200) {\n          //登录成功，将登录用户名存储到sessionStorage中\n          this.$setSessionStorage('token', response.data.data);\n          this.$message({\n            showClose: true,\n            //是否显示关闭按钮\n            message: '登录成功',\n            type: 'success',\n            //类型\n            onClose: () => {\n              this.$router.push({\n                path: '/'\n              }).catch(e => {});\n            }\n          });\n        } else {\n          this.$message({\n            showClose: true,\n            message: '登录失败，请重试',\n            type: 'error'\n          });\n        }\n      }).catch(e => {\n        console.log(e);\n      });\n      // //登录成功，将登录用户名存储到sessionStorage中\n      // this.$setSessionStorage('user',this.user.userId);\n      // this.$message({\n      // showClose: true,//是否显示关闭按钮\n      // message: '登录成功',\n      // type: 'success',//类型\n      // onClose:()=>{\n      //     this.$router.push({path:'/'}).catch(e=>{});\n      // }\n      // });\n    },\n    toRegister() {\n      this.$router.push({\n        path: '/register'\n      }).catch(e => {});\n    }\n  }\n};","map":{"version":3,"names":["data","title","user","userId","password","methods","login","$message","showClose","message","type","onClose","console","log","url","$axios","post","then","response","code","$setSessionStorage","$router","push","path","catch","e","toRegister"],"sources":["src/views/Login.vue"],"sourcesContent":["<template>\r\n    <div class=\"wrapper\">\r\n     <h1>{{ title }}</h1>\r\n     <section>\r\n       <div class=\"input-box\">\r\n         <i class=\"fa fa-user-o\" aria-hidden=\"true\" ></i>\r\n         <input type=\"text\" v-model=\"user.userId\" placeholder=\"输入手机号\" style=\"position: relative; left: 1.5vw;\"/>\r\n       </div>\r\n       <div class=\"input-box\">\r\n         <i class=\"fa fa-lock\" aria-hidden=\"true\"></i>\r\n         <input type=\"password\" v-model=\"user.password\" placeholder=\"输入登录密码\" style=\"position: relative; left: 15px;\"/>   \r\n        </div>\r\n       <div class=\"reg-box\" @click=\"toRegister\">\r\n         <p>注册</p>\r\n         <p>忘记密码？</p>\r\n       </div>\r\n       <div class=\"button-box\" @click=\"login\">登录</div>\r\n     </section>\r\n     <footer>\r\n       <div>\r\n         <div class=\"line\"></div>\r\n         <p>有疑问请联系客服</p>\r\n         <div class=\"line\"></div>\r\n       </div>\r\n       <p>4008-889-333</p>\r\n     </footer>\r\n   </div>\r\n </template>\r\n\r\n<script>\r\n    export default {\r\n    data() {\r\n        return {\r\n            title: 'shou体检预约-登录',//title数据是可以从服务器请求获得\r\n            user:{\r\n                userId:'',\r\n                password:'',\r\n            },\r\n        }\r\n    },\r\n    methods:{\r\n        login(){\r\n            if(this.user.userId ==''){\r\n                this.$message({\r\n                showClose: true,//是否显示关闭按钮\r\n                message: '用户id不能为空',\r\n                type: 'warning',//类型\r\n                onClose:()=>{\r\n                    console.log('关闭');\r\n                }\r\n                });\r\n                return;\r\n            }\r\n            if(this.user.password==''){\r\n                this.$message({\r\n                showClose: true,//是否显示关闭按钮\r\n                message: '用户密码不能为空',\r\n                type: 'warning',//类型\r\n                onClose:()=>{\r\n                    console.log('关闭');\r\n                }\r\n                });\r\n                return;\r\n            }\r\n            //TODO:登录接口\r\n            let url='users/login';\r\n            this.$axios.post(url,this.user).then(response=>{\r\n              if(response.data.code==200){\r\n                //登录成功，将登录用户名存储到sessionStorage中\r\n                this.$setSessionStorage('token',response.data.data);\r\n                this.$message({\r\nshowClose: true,//是否显示关闭按钮\r\nmessage: '登录成功',\r\ntype: 'success',//类型\r\nonClose:()=>{\r\n    this.$router.push({path:'/'}).catch(e=>{});\r\n}\r\n});\r\n              }\r\n              else{\r\n                this.$message({\r\n                  showClose: true,\r\n                  message: '登录失败，请重试',\r\n                  type:'error'\r\n                })\r\n              }\r\n            }).catch(e=>{\r\n              console.log(e);\r\n            })\r\n            // //登录成功，将登录用户名存储到sessionStorage中\r\n            // this.$setSessionStorage('user',this.user.userId);\r\n            // this.$message({\r\n            // showClose: true,//是否显示关闭按钮\r\n            // message: '登录成功',\r\n            // type: 'success',//类型\r\n            // onClose:()=>{\r\n            //     this.$router.push({path:'/'}).catch(e=>{});\r\n            // }\r\n            // });\r\n        },\r\n        toRegister(){\r\n            this.$router.push({path:'/register'}).catch(e=>{})\r\n        }\r\n    }\r\n    }\r\n</script>\r\n\r\n<style src=\"@/assets/css/Login.css\" scoped></style>\r\n<style></style>"],"mappings":";AA8BA;EACAA,KAAA;IACA;MACAC,KAAA;MAAA;MACAC,IAAA;QACAC,MAAA;QACAC,QAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,MAAA;MACA,SAAAJ,IAAA,CAAAC,MAAA;QACA,KAAAI,QAAA;UACAC,SAAA;UAAA;UACAC,OAAA;UACAC,IAAA;UAAA;UACAC,OAAA,EAAAA,CAAA;YACAC,OAAA,CAAAC,GAAA;UACA;QACA;QACA;MACA;MACA,SAAAX,IAAA,CAAAE,QAAA;QACA,KAAAG,QAAA;UACAC,SAAA;UAAA;UACAC,OAAA;UACAC,IAAA;UAAA;UACAC,OAAA,EAAAA,CAAA;YACAC,OAAA,CAAAC,GAAA;UACA;QACA;QACA;MACA;MACA;MACA,IAAAC,GAAA;MACA,KAAAC,MAAA,CAAAC,IAAA,CAAAF,GAAA,OAAAZ,IAAA,EAAAe,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAlB,IAAA,CAAAmB,IAAA;UACA;UACA,KAAAC,kBAAA,UAAAF,QAAA,CAAAlB,IAAA,CAAAA,IAAA;UACA,KAAAO,QAAA;YACAC,SAAA;YAAA;YACAC,OAAA;YACAC,IAAA;YAAA;YACAC,OAAA,EAAAA,CAAA;cACA,KAAAU,OAAA,CAAAC,IAAA;gBAAAC,IAAA;cAAA,GAAAC,KAAA,CAAAC,CAAA;YACA;UACA;QACA,OACA;UACA,KAAAlB,QAAA;YACAC,SAAA;YACAC,OAAA;YACAC,IAAA;UACA;QACA;MACA,GAAAc,KAAA,CAAAC,CAAA;QACAb,OAAA,CAAAC,GAAA,CAAAY,CAAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC,WAAA;MACA,KAAAL,OAAA,CAAAC,IAAA;QAAAC,IAAA;MAAA,GAAAC,KAAA,CAAAC,CAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}