{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      user: {\n        userId: '',\n        realName: '',\n        password: '',\n        password2: '',\n        sex: 1,\n        identityCard: '',\n        birthday: ''\n      }\n    };\n  },\n  methods: {\n    //TODO:验证用户提交的数据是否正确\n    register() {\n      if (this.user.userId == '') {\n        this.$message({\n          showClose: true,\n          //是否显示关闭按钮\n          message: '用户id不能为空',\n          type: 'warning',\n          //类型\n          onClose: () => {\n            console.log('关闭');\n          }\n        });\n        return;\n      }\n      if (this.user.password == '') {\n        this.$message({\n          showClose: true,\n          //是否显示关闭按钮\n          message: '用户密码不能为空',\n          type: 'warning',\n          //类型\n          onClose: () => {\n            console.log('关闭');\n          }\n        });\n        return;\n      }\n      //TODO:登录接口\n      let url = 'users/login';\n      this.$axios.post(url, this.user).then(response => {\n        if (response.data.code == 200) {\n          //登录成功，将登录用户名存储到sessionStorage中\n          this.$setSessionStorage('token', response.data.data);\n          this.$message({\n            showClose: true,\n            //是否显示关闭按钮\n            message: '登录操作成功',\n            type: 'success',\n            //类型\n            onClose: () => {\n              this.$router.push({\n                path: '/'\n              }).catch(e => {});\n            }\n          });\n        } else {\n          this.$message({\n            showClose: true,\n            message: '登录失败，请重试',\n            type: 'error'\n          });\n          this.$removeSessionStorage('token');\n        }\n      }).catch(e => {\n        console.log(e);\n        this.$removeSessionStorage('token');\n        this.$message({\n          message: '请求失败，请检查网络连接',\n          type: 'error'\n        });\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","user","userId","realName","password","password2","sex","identityCard","birthday","methods","register","$message","showClose","message","type","onClose","console","log","url","$axios","post","then","response","code","$setSessionStorage","$router","push","path","catch","e","$removeSessionStorage"],"sources":["src/views/Register.vue"],"sourcesContent":["<template>\r\n    <!-- 总容器 -->\r\n    <div class=\"wrapper\">\r\n        <header>\r\n            <i class=\"fa fa-angle-left\" ></i>\r\n            <p>注册</p>\r\n            <div></div>\r\n        </header>\r\n        <div class=\"top-ban\"></div>\r\n        <h1>欢迎注册</h1>\r\n        <table>\r\n            <tr>\r\n                <td>手机号码</td>\r\n                <td><input type=\"text\" v-model=\"user.userId\" placeholder=\"请输入手机号码\" /></td>\r\n            </tr>\r\n            <tr>\r\n                <td>真实姓名</td>\r\n                <td><input type=\"text\" v-model=\"user.realName\" placeholder=\"真实姓名便于查看体检报告\" /></td>\r\n            </tr>\r\n            <tr>\r\n                <td>生日</td>\r\n                <td><input type=\"date\" v-model=\"user.birthday\"/></td>\r\n            </tr>\r\n            <tr>\r\n                <td>性别</td>\r\n                <td>\r\n                    <input type=\"radio\" v-model=\"user.sex\" value=\"1\" />男\r\n                    <input type=\"radio\" v-model=\"user.sex\" value=\"0\" />女\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td>身份证号</td>\r\n                <td><input type=\"text\" v-model=\"user.identityCard\" placeholder=\"请输入身份证号\" /></td>\r\n            </tr>\r\n            <tr>\r\n                <td>密码</td>\r\n                <td><input type=\"password\" v-model=\"user.password\" placeholder=\"请输入密码\" /></td>\r\n            </tr>\r\n            <tr>\r\n                <td>确认密码</td>\r\n                <td><input type=\"password\" v-model=\"user.password2\" placeholder=\"请再次输入密码\" /></td>\r\n            </tr>\r\n        </table>\r\n        <div class=\"btn\" @click=\"register\">完成</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n      data () {\r\n        return {\r\n          user:{\r\n            userId:'',\r\n            realName:'',\r\n            password:'',\r\n            password2:'',\r\n            sex:1,\r\n            identityCard:'',\r\n            birthday:''\r\n          }\r\n        }\r\n      },\r\n      methods:{\r\n        //TODO:验证用户提交的数据是否正确\r\n        register(){\r\n          if(this.user.userId ==''){\r\n            this.$message({\r\n              showClose: true,//是否显示关闭按钮\r\n              message: '用户id不能为空',\r\n              type: 'warning',//类型\r\n              onClose:()=>{\r\n                console.log('关闭');\r\n              }\r\n            });\r\n            return;\r\n          }\r\n          if(this.user.password==''){\r\n            this.$message({\r\n              showClose: true,//是否显示关闭按钮\r\n              message: '用户密码不能为空',\r\n              type: 'warning',//类型\r\n              onClose:()=>{\r\n                console.log('关闭');\r\n              }\r\n            });\r\n            return;\r\n          }\r\n          //TODO:登录接口\r\n          let url='users/login';\r\n          this.$axios.post(url,this.user).then(response=>{\r\n            if(response.data.code==200){\r\n              //登录成功，将登录用户名存储到sessionStorage中\r\n              this.$setSessionStorage('token',response.data.data);\r\n              this.$message({\r\n                showClose: true,//是否显示关闭按钮\r\n                message: '登录操作成功',\r\n                type: 'success',//类型\r\n                onClose:()=>{\r\n                  this.$router.push({path:'/'}).catch(e=>{});\r\n                },\r\n              })\r\n            }else{\r\n              this.$message({\r\n                showClose: true,\r\n                message: '登录失败，请重试',\r\n                type:'error'\r\n              })\r\n              this.$removeSessionStorage('token');\r\n            }\r\n          }).catch(e=>{\r\n            console.log(e);\r\n            this.$removeSessionStorage('token');\r\n            this.$message({\r\n              message: '请求失败，请检查网络连接',\r\n              type:'error'\r\n            })\r\n          })\r\n        },\r\n      }\r\n    }\r\n</script>\r\n<style src=\"@/assets/css/Register.css\" scoped></style>\r\n<style scoped>\r\n</style>"],"mappings":";AAgDA;EACAA,KAAA;IACA;MACAC,IAAA;QACAC,MAAA;QACAC,QAAA;QACAC,QAAA;QACAC,SAAA;QACAC,GAAA;QACAC,YAAA;QACAC,QAAA;MACA;IACA;EACA;EACAC,OAAA;IACA;IACAC,SAAA;MACA,SAAAT,IAAA,CAAAC,MAAA;QACA,KAAAS,QAAA;UACAC,SAAA;UAAA;UACAC,OAAA;UACAC,IAAA;UAAA;UACAC,OAAA,EAAAA,CAAA;YACAC,OAAA,CAAAC,GAAA;UACA;QACA;QACA;MACA;MACA,SAAAhB,IAAA,CAAAG,QAAA;QACA,KAAAO,QAAA;UACAC,SAAA;UAAA;UACAC,OAAA;UACAC,IAAA;UAAA;UACAC,OAAA,EAAAA,CAAA;YACAC,OAAA,CAAAC,GAAA;UACA;QACA;QACA;MACA;MACA;MACA,IAAAC,GAAA;MACA,KAAAC,MAAA,CAAAC,IAAA,CAAAF,GAAA,OAAAjB,IAAA,EAAAoB,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAtB,IAAA,CAAAuB,IAAA;UACA;UACA,KAAAC,kBAAA,UAAAF,QAAA,CAAAtB,IAAA,CAAAA,IAAA;UACA,KAAAW,QAAA;YACAC,SAAA;YAAA;YACAC,OAAA;YACAC,IAAA;YAAA;YACAC,OAAA,EAAAA,CAAA;cACA,KAAAU,OAAA,CAAAC,IAAA;gBAAAC,IAAA;cAAA,GAAAC,KAAA,CAAAC,CAAA;YACA;UACA;QACA;UACA,KAAAlB,QAAA;YACAC,SAAA;YACAC,OAAA;YACAC,IAAA;UACA;UACA,KAAAgB,qBAAA;QACA;MACA,GAAAF,KAAA,CAAAC,CAAA;QACAb,OAAA,CAAAC,GAAA,CAAAY,CAAA;QACA,KAAAC,qBAAA;QACA,KAAAnB,QAAA;UACAE,OAAA;UACAC,IAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}