{"ast":null,"code":"import Footer from \"@/components/Footer.vue\";\nexport default {\n  data() {\n    return {\n      //接受服务器端返回数据对象：\n      checkAvailability: {\n        hpId: this.$route.query.hpId,\n        //值从上一个组件界面获得\n        smId: this.$route.query.smId,\n        //值从上一个组件界面获得\n        year: null,\n        month: null,\n        days: [],\n        selectDay: \"\"\n      }\n    };\n  },\n  created() {\n    this.initDate();\n    this.loadOrdersData();\n  },\n  methods: {\n    initDate() {\n      let getTime = new Date().getTime(); //当前时间戳\n      let d = new Date(getTime);\n      this.checkAvailability.year = d.getFullYear();\n      this.checkAvailability.month = d.getMonth() + 1;\n    },\n    //得到当前日期参数值：\n    getCalendarDate() {\n      let year = this.checkAvailability.year;\n      let month = this.checkAvailability.month + \"\";\n      month = month.padStart(2, \"0\");\n      let day = \"01\";\n      //2024-07-02\n      return `${year}-${month}-${day}`; //模版字符串 ES6\n    },\n    //加载日历和预约订单量\n    loadOrdersData() {\n      let url = \"/orders/checkAvailability\";\n      this.$axios({\n        method: \"get\",\n        url: url,\n        headers: {\n          Authorization: \"Bearer \" + JSON.parse(sessionStorage.getItem(\"token\"))\n        },\n        params: {\n          smId: this.checkAvailability.smId,\n          hpId: this.checkAvailability.hpId,\n          startDate: this.getCalendarDate()\n        }\n      }).then(response => {\n        this.checkAvailability.days = response.data.data.days;\n        for (let i = 0; i < this.checkAvailability.days.length; i++) {\n          if (this.checkAvailability.days[i].date != null) {\n            this.checkAvailability.days[i].day = this.checkAvailability.days[i].date.substring(8);\n          }\n        }\n      }).catch(e => {});\n    }\n  },\n  components: {\n    //注册子组件 使用名字:导入名字\n    Footer\n  }\n};","map":{"version":3,"names":["Footer","data","checkAvailability","hpId","$route","query","smId","year","month","days","selectDay","created","initDate","loadOrdersData","methods","getTime","Date","d","getFullYear","getMonth","getCalendarDate","padStart","day","url","$axios","method","headers","Authorization","JSON","parse","sessionStorage","getItem","params","startDate","then","response","i","length","date","substring","catch","e","components"],"sources":["src/views/SelectDate.vue"],"sourcesContent":["<template>\r\n  <!-- 总容器 -->\r\n  <div class=\"wrapper\">\r\n    <header>\r\n      <i class=\"fa fa-angle-left\"></i>\r\n      <p>选择体检日期</p>\r\n      <div></div>\r\n    </header>\r\n    <div class=\"top-ban\"></div>\r\n\r\n    <section>\r\n      <div class=\"date-box\">\r\n        <i class=\"fa fa-angle-left\"></i>\r\n        <p>2024年7月</p>\r\n        <i class=\"fa fa-angle-right\"></i>\r\n      </div>\r\n      <table>\r\n        <tr>\r\n          <th>日</th>\r\n          <th>一</th>\r\n          <th>二</th>\r\n          <th>三</th>\r\n          <th>四</th>\r\n          <th>五</th>\r\n          <th>六</th>\r\n        </tr>\r\n      </table>\r\n      <ul>\r\n        <li v-for=\"(c, index) in checkAvailability.days\" :key=\"index\">\r\n          <p>\r\n            {{ c.date != null ? new Date(c.date).getDate() : \"\" }}\r\n          </p>\r\n          <p class=\"count\">\r\n            {{\r\n              index % 7 == 0 && c.date != null\r\n                ? \"\"\r\n                : c.open == true && c.remainingSlots != 0\r\n                ? \"余\" + c.remainingSlots\r\n                : \"0\"\r\n            }}\r\n          </p>\r\n          <p class=\"none\">\r\n            {{ index % 7 == 0 && c.date != null ? \"休息\" : \"\" }}\r\n          </p>\r\n        </li>\r\n      </ul>\r\n      <!-- <ul>\r\n                <li>\r\n                    <p >\r\n                        1\r\n                    </p>\r\n     \r\n                    <p class=\"count\">\r\n                        200\r\n                    </p>\r\n                    <p class=\"none\">\r\n                       休息\r\n                    </p>\r\n                </li>\r\n            </ul> -->\r\n    </section>\r\n\r\n    <div class=\"bottom-btn\">\r\n      <div></div>\r\n      <div>下一步</div>\r\n    </div>\r\n\r\n    <div class=\"bottom-ban\"></div>\r\n    <Footer></Footer>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Footer from \"@/components/Footer.vue\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      //接受服务器端返回数据对象：\r\n      checkAvailability: {\r\n        hpId: this.$route.query.hpId, //值从上一个组件界面获得\r\n        smId: this.$route.query.smId, //值从上一个组件界面获得\r\n        year: null,\r\n        month: null,\r\n        days: [],\r\n        selectDay: \"\",\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.initDate();\r\n    this.loadOrdersData();\r\n  },\r\n  methods: {\r\n    initDate() {\r\n      let getTime = new Date().getTime(); //当前时间戳\r\n      let d = new Date(getTime);\r\n      this.checkAvailability.year = d.getFullYear();\r\n      this.checkAvailability.month = d.getMonth() + 1;\r\n    },\r\n    //得到当前日期参数值：\r\n    getCalendarDate() {\r\n      let year = this.checkAvailability.year;\r\n      let month = this.checkAvailability.month + \"\";\r\n      month = month.padStart(2, \"0\");\r\n      let day = \"01\";\r\n      //2024-07-02\r\n      return `${year}-${month}-${day}`; //模版字符串 ES6\r\n    },\r\n    //加载日历和预约订单量\r\n    loadOrdersData() {\r\n      let url = \"/orders/checkAvailability\";\r\n      this.$axios({\r\n        method: \"get\",\r\n        url: url,\r\n        headers: {\r\n          Authorization:\r\n            \"Bearer \" + JSON.parse(sessionStorage.getItem(\"token\")),\r\n        },\r\n        params: {\r\n          smId: this.checkAvailability.smId,\r\n          hpId: this.checkAvailability.hpId,\r\n          startDate: this.getCalendarDate(),\r\n        },\r\n      })\r\n        .then((response) => {\r\n          this.checkAvailability.days = response.data.data.days;\r\n          for (let i = 0; i < this.checkAvailability.days.length; i++) {\r\n            if (this.checkAvailability.days[i].date != null) {\r\n              this.checkAvailability.days[i].day =\r\n                this.checkAvailability.days[i].date.substring(8);\r\n            }\r\n          }\r\n        })\r\n        .catch((e) => {});\r\n    },\r\n  },\r\n  components: {\r\n    //注册子组件 使用名字:导入名字\r\n    Footer,\r\n  },\r\n};\r\n</script>\r\n<style src=\"@/assets/css/SelectDate.css\" scoped></style>\r\n<style scoped></style>\r\n"],"mappings":"AAwEA,OAAAA,MAAA;AACA;EACAC,KAAA;IACA;MACA;MACAC,iBAAA;QACAC,IAAA,OAAAC,MAAA,CAAAC,KAAA,CAAAF,IAAA;QAAA;QACAG,IAAA,OAAAF,MAAA,CAAAC,KAAA,CAAAC,IAAA;QAAA;QACAC,IAAA;QACAC,KAAA;QACAC,IAAA;QACAC,SAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,QAAA;IACA,KAAAC,cAAA;EACA;EACAC,OAAA;IACAF,SAAA;MACA,IAAAG,OAAA,OAAAC,IAAA,GAAAD,OAAA;MACA,IAAAE,CAAA,OAAAD,IAAA,CAAAD,OAAA;MACA,KAAAb,iBAAA,CAAAK,IAAA,GAAAU,CAAA,CAAAC,WAAA;MACA,KAAAhB,iBAAA,CAAAM,KAAA,GAAAS,CAAA,CAAAE,QAAA;IACA;IACA;IACAC,gBAAA;MACA,IAAAb,IAAA,QAAAL,iBAAA,CAAAK,IAAA;MACA,IAAAC,KAAA,QAAAN,iBAAA,CAAAM,KAAA;MACAA,KAAA,GAAAA,KAAA,CAAAa,QAAA;MACA,IAAAC,GAAA;MACA;MACA,UAAAf,IAAA,IAAAC,KAAA,IAAAc,GAAA;IACA;IACA;IACAT,eAAA;MACA,IAAAU,GAAA;MACA,KAAAC,MAAA;QACAC,MAAA;QACAF,GAAA,EAAAA,GAAA;QACAG,OAAA;UACAC,aAAA,EACA,YAAAC,IAAA,CAAAC,KAAA,CAAAC,cAAA,CAAAC,OAAA;QACA;QACAC,MAAA;UACA1B,IAAA,OAAAJ,iBAAA,CAAAI,IAAA;UACAH,IAAA,OAAAD,iBAAA,CAAAC,IAAA;UACA8B,SAAA,OAAAb,eAAA;QACA;MACA,GACAc,IAAA,CAAAC,QAAA;QACA,KAAAjC,iBAAA,CAAAO,IAAA,GAAA0B,QAAA,CAAAlC,IAAA,CAAAA,IAAA,CAAAQ,IAAA;QACA,SAAA2B,CAAA,MAAAA,CAAA,QAAAlC,iBAAA,CAAAO,IAAA,CAAA4B,MAAA,EAAAD,CAAA;UACA,SAAAlC,iBAAA,CAAAO,IAAA,CAAA2B,CAAA,EAAAE,IAAA;YACA,KAAApC,iBAAA,CAAAO,IAAA,CAAA2B,CAAA,EAAAd,GAAA,GACA,KAAApB,iBAAA,CAAAO,IAAA,CAAA2B,CAAA,EAAAE,IAAA,CAAAC,SAAA;UACA;QACA;MACA,GACAC,KAAA,CAAAC,CAAA;IACA;EACA;EACAC,UAAA;IACA;IACA1C;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}