{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      user: {\n        userId: '',\n        realName: '',\n        password: '',\n        password2: '',\n        sex: 1,\n        identityCard: '',\n        birthday: ''\n      }\n    };\n  },\n  methods: {\n    toBack() {\n      this.$router.back();\n    },\n    //TODO:验证用户提交的数据是否正确\n    submit() {\n      if (this.user.password != this.user.password2) {\n        this.$message({\n          showClose: true,\n          //是否显示关闭按钮\n          message: '两次输入的密码不一致',\n          type: 'error',\n          //类型\n          onClose: () => {\n            console.log('关闭');\n          }\n        });\n        return;\n      }\n      let url = 'users/register';\n      this.$axios.post(url, this.user).then(response => {\n        this.$setSessionStorage('token', response.data.data);\n        this.$message({\n          showClose: true,\n          //是否显示关闭按钮\n          message: '注册操作成功',\n          type: 'success',\n          //类型\n          onClose: () => {\n            this.$router.push({\n              path: '/login'\n            }).catch(e => {});\n          }\n        });\n      }).catch(e => {\n        console.log(e);\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","user","userId","realName","password","password2","sex","identityCard","birthday","methods","toBack","$router","back","submit","$message","showClose","message","type","onClose","console","log","url","$axios","post","then","response","$setSessionStorage","push","path","catch","e"],"sources":["src/views/UpdatePWD.vue"],"sourcesContent":["<template>\r\n  <!-- 总容器 -->\r\n  <div class=\"wrapper\">\r\n    <header>\r\n      <i class=\"fa fa-angle-left fa-2x\" @click=\"toBack\"></i>\r\n      <p>修改密码</p>\r\n      <div></div>\r\n    </header>\r\n    <div class=\"top-ban\"></div>\r\n    <table>\r\n      <tr>\r\n        <td>旧密码</td>\r\n        <td><input type=\"password\" v-model=\"user.password\" placeholder=\"请输入旧密码\"/></td>\r\n      </tr>\r\n      <tr>\r\n        <td>新密码</td>\r\n        <td><input type=\"password\" v-model=\"user.password\" placeholder=\"请输入新密码\"/></td>\r\n      </tr>\r\n      <tr>\r\n        <td>确认新密码</td>\r\n        <td><input type=\"password\" v-model=\"user.password2\" placeholder=\"请再次输入新密码\"/></td>\r\n      </tr>\r\n    </table>\r\n    <div class=\"btn\" @click=\"submit\">完成</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: {\r\n        userId: '',\r\n        realName: '',\r\n        password: '',\r\n        password2: '',\r\n        sex: 1,\r\n        identityCard: '',\r\n        birthday: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    toBack() {\r\n      this.$router.back();\r\n    },\r\n    //TODO:验证用户提交的数据是否正确\r\n    submit() {\r\n      if (this.user.password != this.user.password2) {\r\n        this.$message({\r\n          showClose: true,//是否显示关闭按钮\r\n          message: '两次输入的密码不一致',\r\n          type: 'error',//类型\r\n          onClose: () => {\r\n            console.log('关闭');\r\n          }\r\n        });\r\n        return;\r\n      }\r\n\r\n      let url = 'users/register';\r\n      this.$axios.post(url, this.user).then(response => {\r\n        this.$setSessionStorage('token', response.data.data);\r\n        this.$message({\r\n          showClose: true,//是否显示关闭按钮\r\n          message: '注册操作成功',\r\n          type: 'success',//类型\r\n          onClose: () => {\r\n            this.$router.push({path: '/login'}).catch(e => {\r\n            });\r\n          },\r\n        })\r\n      }).catch(e => {\r\n        console.log(e);\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style src=\"@/assets/css/Register.css\" scoped></style>\r\n<style scoped>\r\n</style>"],"mappings":";AA4BA;EACAA,KAAA;IACA;MACAC,IAAA;QACAC,MAAA;QACAC,QAAA;QACAC,QAAA;QACAC,SAAA;QACAC,GAAA;QACAC,YAAA;QACAC,QAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,OAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;IACA;IACAC,OAAA;MACA,SAAAZ,IAAA,CAAAG,QAAA,SAAAH,IAAA,CAAAI,SAAA;QACA,KAAAS,QAAA;UACAC,SAAA;UAAA;UACAC,OAAA;UACAC,IAAA;UAAA;UACAC,OAAA,EAAAA,CAAA;YACAC,OAAA,CAAAC,GAAA;UACA;QACA;QACA;MACA;MAEA,IAAAC,GAAA;MACA,KAAAC,MAAA,CAAAC,IAAA,CAAAF,GAAA,OAAApB,IAAA,EAAAuB,IAAA,CAAAC,QAAA;QACA,KAAAC,kBAAA,UAAAD,QAAA,CAAAzB,IAAA,CAAAA,IAAA;QACA,KAAAc,QAAA;UACAC,SAAA;UAAA;UACAC,OAAA;UACAC,IAAA;UAAA;UACAC,OAAA,EAAAA,CAAA;YACA,KAAAP,OAAA,CAAAgB,IAAA;cAAAC,IAAA;YAAA,GAAAC,KAAA,CAAAC,CAAA,KACA;UACA;QACA;MACA,GAAAD,KAAA,CAAAC,CAAA;QACAX,OAAA,CAAAC,GAAA,CAAAU,CAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}