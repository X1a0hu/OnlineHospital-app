{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Footer from \"@/components/Footer.vue\";\nexport default {\n  data() {\n    return {\n      user: {\n        realName: \"\",\n        identityCard: \"\",\n        birthday: \"\",\n        userID: \"\"\n      },\n      hospital: {\n        hpID: this.hpID,\n        name: \"\",\n        businessHours: \"\",\n        deadline: \"\",\n        telephone: \"\",\n        address: \"\"\n      },\n      smID: this.$route.query.smID,\n      hpID: this.$route.query.hpID,\n      year: this.$route.query.year,\n      month: this.$route.query.month,\n      selectDay: this.$route.query.selectDay,\n      price: \"\"\n    };\n  },\n  created() {\n    this.loadHospitalInfo();\n    this.getSetMealPrice();\n    this.getUserInfo();\n  },\n  methods: {\n    toBack() {\n      this.$router.back();\n      console.log(\"exit!\");\n    },\n    formatDate(selectDay) {\n      if (!selectDay) return \"\";\n      const [year, month, day] = selectDay.split(\"-\");\n      return `${year}年${parseInt(month)}月${parseInt(day)}日`;\n    },\n    loadHospitalInfo() {\n      let url = \"/hospital/getByHospitalID\";\n      this.$axios({\n        method: \"get\",\n        url: url,\n        headers: {\n          Authorization: \"Bearer \" + JSON.parse(sessionStorage.getItem(\"token\"))\n        },\n        params: {\n          hpID: this.hpID\n        }\n      }).then(response => {\n        this.hospital.name = response.data.data.name;\n        this.hospital.businessHours = response.data.data.businessHours;\n        this.hospital.deadline = response.data.data.deadline;\n        this.hospital.telephone = response.data.data.telephone;\n        this.hospital.address = response.data.data.address;\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    getSetMealPrice() {\n      let url = \"/setMeal/getBySetMealID\";\n      this.$axios({\n        method: \"get\",\n        url: url,\n        headers: {\n          Authorization: \"Bearer \" + JSON.parse(sessionStorage.getItem(\"token\"))\n        },\n        params: {\n          smID: this.smID\n        }\n      }).then(response => {\n        this.price = response.data.data.price;\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    getUserInfo() {\n      this.user.userID = sessionStorage.getItem(\"userInfo\", JSON.stringify(response.data.data).userID);\n    },\n    pay() {\n      this.$router.push({\n        path: \"/pay\"\n      }).catch(e => {\n        console.log(e);\n      });\n    }\n  },\n  components: {\n    //注册子组件   使用名字:导入名字\n    Footer\n  }\n};","map":{"version":3,"names":["Footer","data","user","realName","identityCard","birthday","userID","hospital","hpID","name","businessHours","deadline","telephone","address","smID","$route","query","year","month","selectDay","price","created","loadHospitalInfo","getSetMealPrice","getUserInfo","methods","toBack","$router","back","console","log","formatDate","day","split","parseInt","url","$axios","method","headers","Authorization","JSON","parse","sessionStorage","getItem","params","then","response","catch","e","stringify","pay","push","path","components"],"sources":["src/views/ConfirmOrder.vue"],"sourcesContent":["<template>\r\n  <!-- 总容器 -->\r\n  <div class=\"wrapper\">\r\n    <header>\r\n      <i class=\"fa fa-angle-left\" @click=\"toBack()\"></i>\r\n      <p>确认您的订单</p>\r\n      <div></div>\r\n    </header>\r\n    <div class=\"top-ban\"></div>\r\n\r\n    <section>\r\n      <div class=\"title\">\r\n        <p>体检人信息</p>\r\n      </div>\r\n      <table>\r\n        <tr>\r\n          <td>姓名:</td>\r\n          <td>{{ this.user.realName }}</td>\r\n        </tr>\r\n        <tr>\r\n          <td>证件号码:</td>\r\n          <td>{{ this.user.identityCard }}</td>\r\n        </tr>\r\n        <tr>\r\n          <td>出生日期:</td>\r\n          <td>{{ this.user.birthday }}</td>\r\n        </tr>\r\n        <tr>\r\n          <td>手机号码:</td>\r\n          <td>{{ this.user.userID }}</td>\r\n        </tr>\r\n      </table>\r\n      <div class=\"title\">\r\n        <p>体检日期</p>\r\n      </div>\r\n      <table>\r\n        <tr>\r\n          <td>{{ formatDate(this.selectDay) }}</td>\r\n        </tr>\r\n      </table>\r\n      <div class=\"title\">\r\n        <p>体检机构：</p>\r\n        {{ this.hospital.name }}\r\n      </div>\r\n      <table>\r\n        <tr>\r\n          <td colspan=\"2\"></td>\r\n        </tr>\r\n        <tr>\r\n          <td>营业时间:</td>\r\n          <td>{{ this.hospital.businessHours }}</td>\r\n        </tr>\r\n        <tr>\r\n          <td>采血截止:</td>\r\n          <td>{{ this.hospital.deadline }}</td>\r\n        </tr>\r\n        <tr>\r\n          <td>机构电话:</td>\r\n          <td>{{ this.hospital.telephone }}</td>\r\n        </tr>\r\n        <tr>\r\n          <td>机构地址:</td>\r\n          <td>{{ this.hospital.address }}</td>\r\n        </tr>\r\n      </table>\r\n      <div class=\"title\">\r\n        <p>套餐类型</p>\r\n      </div>\r\n      <table>\r\n        <tr>\r\n          <td v-if=\"smID == 1\">男士套餐</td>\r\n          <td v-else=\"smID == 0\">女士套餐</td>\r\n        </tr>\r\n      </table>\r\n    </section>\r\n\r\n    <div ref=\"alipayForm\"></div>\r\n\r\n    <div class=\"bottom-btn\">\r\n      <div class=\"first\">\r\n        实付款: <span>{{ this.price }}元</span>\r\n      </div>\r\n      <div class=\"last\" @click=\"pay()\">确认支付</div>\r\n    </div>\r\n\r\n    <div class=\"bottom-ban\"></div>\r\n    <Footer></Footer>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Footer from \"@/components/Footer.vue\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: {\r\n        realName: \"\",\r\n        identityCard: \"\",\r\n        birthday: \"\",\r\n        userID: \"\",\r\n      },\r\n      hospital: {\r\n        hpID: this.hpID,\r\n        name: \"\",\r\n        businessHours: \"\",\r\n        deadline: \"\",\r\n        telephone: \"\",\r\n        address: \"\",\r\n      },\r\n      smID: this.$route.query.smID,\r\n      hpID: this.$route.query.hpID,\r\n      year: this.$route.query.year,\r\n      month: this.$route.query.month,\r\n      selectDay: this.$route.query.selectDay,\r\n      price: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    this.loadHospitalInfo();\r\n    this.getSetMealPrice();\r\n    this.getUserInfo();\r\n  },\r\n  methods: {\r\n    toBack() {\r\n      this.$router.back();\r\n      console.log(\"exit!\");\r\n    },\r\n    formatDate(selectDay) {\r\n      if (!selectDay) return \"\";\r\n      const [year, month, day] = selectDay.split(\"-\");\r\n      return `${year}年${parseInt(month)}月${parseInt(day)}日`;\r\n    },\r\n    loadHospitalInfo() {\r\n      let url = \"/hospital/getByHospitalID\";\r\n      this.$axios({\r\n        method: \"get\",\r\n        url: url,\r\n        headers: {\r\n          Authorization:\r\n            \"Bearer \" + JSON.parse(sessionStorage.getItem(\"token\")),\r\n        },\r\n        params: {\r\n          hpID: this.hpID,\r\n        },\r\n      })\r\n        .then((response) => {\r\n          this.hospital.name = response.data.data.name;\r\n          this.hospital.businessHours = response.data.data.businessHours;\r\n          this.hospital.deadline = response.data.data.deadline;\r\n          this.hospital.telephone = response.data.data.telephone;\r\n          this.hospital.address = response.data.data.address;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    getSetMealPrice() {\r\n      let url = \"/setMeal/getBySetMealID\";\r\n      this.$axios({\r\n        method: \"get\",\r\n        url: url,\r\n        headers: {\r\n          Authorization:\r\n            \"Bearer \" + JSON.parse(sessionStorage.getItem(\"token\")),\r\n        },\r\n        params: {\r\n          smID: this.smID,\r\n        },\r\n      })\r\n        .then((response) => {\r\n          this.price = response.data.data.price;\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    getUserInfo() {\r\n      this.user.userID = sessionStorage.getItem(\r\n        \"userInfo\",\r\n        JSON.stringify(response.data.data).userID\r\n      );\r\n    },\r\n    pay() {\r\n      this.$router.push({ path: \"/pay\" }).catch((e) => {\r\n        console.log(e);\r\n      });\r\n    },\r\n  },\r\n  components: {\r\n    //注册子组件   使用名字:导入名字\r\n    Footer,\r\n  },\r\n};\r\n</script>\r\n<style src=\"@/assets/css/ConfirmOrder.css\" scoped></style>\r\n<style scoped></style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}