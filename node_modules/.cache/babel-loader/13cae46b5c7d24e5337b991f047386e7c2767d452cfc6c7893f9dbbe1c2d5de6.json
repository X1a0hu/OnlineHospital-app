{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      title: \"shou体检预约-登录\",\n      //title数据是可以从服务器请求获得\n      user: {\n        userID: \"\",\n        password: \"\"\n      }\n    };\n  },\n  methods: {\n    toHome() {\n      this.$router.push({\n        path: \"/\"\n      }).catch(e => {});\n    },\n    toUpdate() {\n      this.$router.push({\n        path: \"updatepwd\"\n      }).catch(e => {});\n    },\n    login() {\n      if (this.user.userID == \"\") {\n        this.$message({\n          showClose: true,\n          //是否显示关闭按钮\n          message: \"用户id不能为空\",\n          type: \"warning\",\n          //类型\n          onClose: () => {\n            console.log(\"关闭\");\n          }\n        });\n        return;\n      }\n      if (this.user.password == \"\") {\n        this.$message({\n          showClose: true,\n          //是否显示关闭按钮\n          message: \"用户密码不能为空\",\n          type: \"warning\",\n          //类型\n          onClose: () => {\n            console.log(\"关闭\");\n          }\n        });\n        return;\n      }\n      //TODO:登录接口\n      let url = \"user/login\";\n      this.$axios.post(url, this.user).then(response => {\n        //登录成功，将登录用户名存储到sessionStorage中\n        sessionStorage.setItem(\"token\", JSON.stringify(response.data.data));\n        this.getUserInfo(this.user.userID);\n        this.$message({\n          showClose: false,\n          //是否显示关闭按钮\n          message: \"登录操作成功\",\n          duration: 1000,\n          type: \"success\",\n          //类型\n          onClose: () => {\n            this.$router.push({\n              path: \"/\"\n            }).catch(e => {});\n          }\n        });\n      }).catch(e => {\n        console.log(e);\n      });\n    },\n    toRegister() {\n      this.$router.push({\n        path: \"/register\"\n      }).catch(e => {});\n    },\n    getUserInfo(userID) {\n      let url = \"/user/getByUserID\";\n      this.$axios({\n        method: \"post\",\n        url: url,\n        headers: {\n          Authorization: \"Bearer \" + JSON.parse(sessionStorage.getItem(\"token\"))\n        },\n        param: {\n          userID: this.user.userID\n        }\n      }).then(response => {\n        console.log(\"用户信息已保存\");\n        sessionStorage.setItem(\"userInfo\", response.data.data);\n      }).catch(e => {\n        console.log(\"出现错误了！\");\n        console.log(this.user.userID);\n        console.log(e);\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","title","user","userID","password","methods","toHome","$router","push","path","catch","e","toUpdate","login","$message","showClose","message","type","onClose","console","log","url","$axios","post","then","response","sessionStorage","setItem","JSON","stringify","getUserInfo","duration","toRegister","method","headers","Authorization","parse","getItem","param"],"sources":["src/views/Login.vue"],"sourcesContent":["<template>\r\n  <div class=\"wrapper\">\r\n    <header>\r\n      <i class=\"fa fa-angle-left fa-2x\" @click=\"toHome\"></i>\r\n      <p></p>\r\n      <div></div>\r\n    </header>\r\n    <h1>{{ title }}</h1>\r\n    <section>\r\n      <div class=\"input-box\">\r\n        <i class=\"fa fa-user-o\" aria-hidden=\"true\"></i>\r\n        <input\r\n          type=\"text\"\r\n          v-model=\"user.userID\"\r\n          placeholder=\"输入手机号\"\r\n          style=\"position: relative; left: 1.5vw\"\r\n        />\r\n      </div>\r\n      <div class=\"input-box\">\r\n        <i class=\"fa fa-lock\" aria-hidden=\"true\"></i>\r\n        <input\r\n          type=\"password\"\r\n          v-model=\"user.password\"\r\n          placeholder=\"输入登录密码\"\r\n          style=\"position: relative; left: 15px\"\r\n        />\r\n      </div>\r\n      <div class=\"reg-box\">\r\n        <p @click=\"toRegister\">注册</p>\r\n        <p @click=\"toUpdate\">忘记密码？</p>\r\n      </div>\r\n      <div class=\"button-box\" @click=\"login\">登录</div>\r\n    </section>\r\n    <footer>\r\n      <div>\r\n        <div class=\"line\"></div>\r\n        <p>有疑问请联系客服</p>\r\n        <div class=\"line\"></div>\r\n      </div>\r\n      <p>4008-889-333</p>\r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      title: \"shou体检预约-登录\", //title数据是可以从服务器请求获得\r\n      user: {\r\n        userID: \"\",\r\n        password: \"\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    toHome() {\r\n      this.$router.push({ path: \"/\" }).catch((e) => {});\r\n    },\r\n    toUpdate() {\r\n      this.$router.push({ path: \"updatepwd\" }).catch((e) => {});\r\n    },\r\n    login() {\r\n      if (this.user.userID == \"\") {\r\n        this.$message({\r\n          showClose: true, //是否显示关闭按钮\r\n          message: \"用户id不能为空\",\r\n          type: \"warning\", //类型\r\n          onClose: () => {\r\n            console.log(\"关闭\");\r\n          },\r\n        });\r\n        return;\r\n      }\r\n      if (this.user.password == \"\") {\r\n        this.$message({\r\n          showClose: true, //是否显示关闭按钮\r\n          message: \"用户密码不能为空\",\r\n          type: \"warning\", //类型\r\n          onClose: () => {\r\n            console.log(\"关闭\");\r\n          },\r\n        });\r\n        return;\r\n      }\r\n      //TODO:登录接口\r\n      let url = \"user/login\";\r\n      this.$axios\r\n        .post(url, this.user)\r\n        .then((response) => {\r\n          //登录成功，将登录用户名存储到sessionStorage中\r\n          sessionStorage.setItem(\"token\", JSON.stringify(response.data.data));\r\n          this.getUserInfo(this.user.userID);\r\n          this.$message({\r\n            showClose: false, //是否显示关闭按钮\r\n            message: \"登录操作成功\",\r\n            duration: 1000,\r\n            type: \"success\", //类型\r\n            onClose: () => {\r\n              this.$router.push({ path: \"/\" }).catch((e) => {});\r\n            },\r\n          });\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    },\r\n    toRegister() {\r\n      this.$router.push({ path: \"/register\" }).catch((e) => {});\r\n    },\r\n    getUserInfo(userID) {\r\n      let url = \"/user/getByUserID\";\r\n      this.$axios({\r\n        method: \"post\",\r\n        url: url,\r\n        headers: {\r\n          Authorization:\r\n            \"Bearer \" + JSON.parse(sessionStorage.getItem(\"token\")),\r\n        },\r\n        param: {\r\n          userID: this.user.userID,\r\n        },\r\n      })\r\n        .then((response) => {\r\n          console.log(\"用户信息已保存\");\r\n          sessionStorage.setItem(\"userInfo\", response.data.data);\r\n        })\r\n        .catch((e) => {\r\n          console.log(\"出现错误了！\");\r\n          console.log(this.user.userID);\r\n          console.log(e);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style src=\"@/assets/css/Login.css\" scoped></style>\r\n<style></style>\r\n"],"mappings":";AA6CA;EACAA,KAAA;IACA;MACAC,KAAA;MAAA;MACAC,IAAA;QACAC,MAAA;QACAC,QAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,OAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QAAAC,IAAA;MAAA,GAAAC,KAAA,CAAAC,CAAA;IACA;IACAC,SAAA;MACA,KAAAL,OAAA,CAAAC,IAAA;QAAAC,IAAA;MAAA,GAAAC,KAAA,CAAAC,CAAA;IACA;IACAE,MAAA;MACA,SAAAX,IAAA,CAAAC,MAAA;QACA,KAAAW,QAAA;UACAC,SAAA;UAAA;UACAC,OAAA;UACAC,IAAA;UAAA;UACAC,OAAA,EAAAA,CAAA;YACAC,OAAA,CAAAC,GAAA;UACA;QACA;QACA;MACA;MACA,SAAAlB,IAAA,CAAAE,QAAA;QACA,KAAAU,QAAA;UACAC,SAAA;UAAA;UACAC,OAAA;UACAC,IAAA;UAAA;UACAC,OAAA,EAAAA,CAAA;YACAC,OAAA,CAAAC,GAAA;UACA;QACA;QACA;MACA;MACA;MACA,IAAAC,GAAA;MACA,KAAAC,MAAA,CACAC,IAAA,CAAAF,GAAA,OAAAnB,IAAA,EACAsB,IAAA,CAAAC,QAAA;QACA;QACAC,cAAA,CAAAC,OAAA,UAAAC,IAAA,CAAAC,SAAA,CAAAJ,QAAA,CAAAzB,IAAA,CAAAA,IAAA;QACA,KAAA8B,WAAA,MAAA5B,IAAA,CAAAC,MAAA;QACA,KAAAW,QAAA;UACAC,SAAA;UAAA;UACAC,OAAA;UACAe,QAAA;UACAd,IAAA;UAAA;UACAC,OAAA,EAAAA,CAAA;YACA,KAAAX,OAAA,CAAAC,IAAA;cAAAC,IAAA;YAAA,GAAAC,KAAA,CAAAC,CAAA;UACA;QACA;MACA,GACAD,KAAA,CAAAC,CAAA;QACAQ,OAAA,CAAAC,GAAA,CAAAT,CAAA;MACA;IACA;IACAqB,WAAA;MACA,KAAAzB,OAAA,CAAAC,IAAA;QAAAC,IAAA;MAAA,GAAAC,KAAA,CAAAC,CAAA;IACA;IACAmB,YAAA3B,MAAA;MACA,IAAAkB,GAAA;MACA,KAAAC,MAAA;QACAW,MAAA;QACAZ,GAAA,EAAAA,GAAA;QACAa,OAAA;UACAC,aAAA,EACA,YAAAP,IAAA,CAAAQ,KAAA,CAAAV,cAAA,CAAAW,OAAA;QACA;QACAC,KAAA;UACAnC,MAAA,OAAAD,IAAA,CAAAC;QACA;MACA,GACAqB,IAAA,CAAAC,QAAA;QACAN,OAAA,CAAAC,GAAA;QACAM,cAAA,CAAAC,OAAA,aAAAF,QAAA,CAAAzB,IAAA,CAAAA,IAAA;MACA,GACAU,KAAA,CAAAC,CAAA;QACAQ,OAAA,CAAAC,GAAA;QACAD,OAAA,CAAAC,GAAA,MAAAlB,IAAA,CAAAC,MAAA;QACAgB,OAAA,CAAAC,GAAA,CAAAT,CAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}